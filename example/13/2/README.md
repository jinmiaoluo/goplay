# 括号匹配

请先阅读原题相关的信息和思路. 我将以我自己的方式复述思路. 并做一些补充的思考. 写这篇记录的目的是加深自己的理解.

地址: https://github.com/halfrost/LeetCode-Go/blob/4e11f4028ab6add9bfbb64d541dd5d961c3a7ed5/leetcode/0020.Valid-Parentheses/20.%20Valid%20Parentheses.go

- 构建一个数组
- 遍历字符串
  - 如果字符是成对符号的左边成员, 存入数组(入栈)
  - 否则, 判断是否是成对符号的右边成员, 并且栈中是否还有数据可以出栈, 并且栈中最后一个数据是否是对应的左边成员
    - 如果是, 从数组中移除该右边成员对应的左边成员(出栈)
    - 如果不是, 匹配失败
- 判断在遍历完后栈内是否还有剩下的左边成员没有出栈
  - 如果有, 匹配失败
  - 如果没有, 匹配成功


#### 补充

- 往往成对符号内会包含其他的 utf-8 数据, 比如: `[music(description).mp3](https://example.com/music(description).mp3)`. 因此我们应该忽略非右边成员的字符. 而不是返回错误.

- 可能出现的问题
  - 有可能出现右边成员不成对的情况, 比如 `[()]]` 末尾多了一个 `]`. 缺少对这种情况的判断.
  - 有可能出现左边成员不成对的情况, 比如 `[[()]` 开头多了一个 `[`. 缺少对这种情况的判断.
- 如何解决:
  - 维护一个 map (类型: `map[rune]int`), key 是左边成员的 rune 值, value 值是出现次数.
  - 入栈时, 左边成员的 rune 类型值作为 key, 同时这个 key 对应的值自增1.
  - 出栈时,
    - 如果左边成员的 rune 类型值作为 key, 如果这个 key 对应的值大于0, 自减1.
    - 否则, 这是一个多余的右边成员.
  - 遍历完所有的字符后, 判断栈内是否还有剩余的字符.
    - 如果有, 这是一个多余的左边成员.
    - 否则, 说明所有成对符号都成功配对.
